# ğŸ¤– Bot WhatsApp - Envio de Mensagens em Massa

Sistema simples, eficiente e **portÃ¡vel** para envio de mensagens em massa via WhatsApp Web.

## ğŸ“‹ Funcionalidades

- âœ… Envio em massa de mensagens personalizadas
- âœ… Templates com variÃ¡veis (`{nome}`)
- âœ… Suporte a links adicionais
- âœ… Interface web amigÃ¡vel
- âœ… Log de mensagens enviadas
- âœ… ValidaÃ§Ã£o de nÃºmeros de telefone
- âœ… **Sistema portÃ¡vel** - pode ser transportado para outros dispositivos
- âœ… **Modo portÃ¡vel** - nÃ£o salva login do WhatsApp (login a cada uso)

## ğŸš€ InstalaÃ§Ã£o

### 1. PrÃ©-requisitos
- Python 3.8+
- Google Chrome instalado
- ChromeDriver compatÃ­vel

### 2. Instalar dependÃªncias
```bash
pip install -r requirements.txt
```

### 3. Preparar arquivo de contatos
Crie ou edite o arquivo `data/contatos.xlsx` com as colunas:
- `nome` ou `name`: Nome do contato
- `telefone`, `phone` ou `numero`: NÃºmero do WhatsApp (com cÃ³digo do paÃ­s)

Exemplo:
| nome  | telefone       |
|-------|----------------|
| JoÃ£o  | 5511999999999  |
| Maria | 5521888888888  |

## ğŸ’» Como Usar

### Interface Web (Recomendado)

```bash
python main.py
```

Acesse `http://localhost:8080` no navegador e use a interface grÃ¡fica.

**Recursos da Interface:**
- Campo de mensagem com template personalizado
- Campo para link adicional
- **Switch para modo portÃ¡vel** (desligado = login toda vez, ligado = salva login)
- BotÃµes para iniciar/parar envio
- Log em tempo real

### ğŸ”„ Modo PortÃ¡vel (PadrÃ£o)

Por padrÃ£o, o sistema estÃ¡ configurado em **modo portÃ¡vel**:
- âœ… **NÃ£o salva o login do WhatsApp** - vocÃª precisa fazer login a cada execuÃ§Ã£o
- âœ… **Perfil temporÃ¡rio** - criado e removido automaticamente
- âœ… **Totalmente portÃ¡vel** - pode copiar a pasta para outro dispositivo
- âœ… **Mais seguro** - nÃ£o deixa rastros de sessÃ£o

**Como funciona:**
1. Ao iniciar o envio, o Chrome abrirÃ¡ com WhatsApp Web
2. Escaneie o QR Code com seu celular
3. O sistema aguardarÃ¡ atÃ© 2 minutos para vocÃª fazer login
4. ApÃ³s o login, o envio comeÃ§arÃ¡ automaticamente
5. Ao finalizar, o perfil temporÃ¡rio Ã© removido

### ğŸ’¾ Modo com Perfil Persistente (Opcional)

Se preferir salvar o login:
1. Na interface, ative o switch "ğŸ’¾ Usar perfil persistente"
2. Na primeira execuÃ§Ã£o, faÃ§a login normalmente
3. Nas prÃ³ximas execuÃ§Ãµes, o login serÃ¡ mantido
4. O perfil serÃ¡ salvo em `profile/` (nÃ£o portÃ¡vel)

### Linha de Comando

```bash
# Via variÃ¡veis de ambiente
MSG_TEMPLATE="OlÃ¡ {nome}, como vai?" MSG_LINK="https://exemplo.com" python sender.py
```

## ğŸ“ Estrutura de Arquivos

```
whatsapp_project/
â”œâ”€â”€ main.py                    # Interface web (NiceGUI)
â”œâ”€â”€ sender.py                  # Script de envio de mensagens
â”œâ”€â”€ requirements.txt           # DependÃªncias Python
â”œâ”€â”€ README.MD                  # Este arquivo
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ contatos.xlsx          # Lista de contatos
â”‚   â”œâ”€â”€ sent_log.csv           # Log de mensagens enviadas
â”‚   â””â”€â”€ system.log             # Log do sistema
â””â”€â”€ profile/                   # Perfil do Chrome (apenas se usar modo persistente)
```

**Nota:** A pasta `profile/` sÃ³ Ã© criada se vocÃª usar o modo com perfil persistente. No modo portÃ¡vel (padrÃ£o), um perfil temporÃ¡rio Ã© criado e removido automaticamente.

## âš ï¸ Avisos Importantes

1. **Login no WhatsApp**: 
   - **Modo portÃ¡vel (padrÃ£o)**: VocÃª precisa fazer login a cada execuÃ§Ã£o escaneando o QR Code. A sessÃ£o **nÃ£o Ã© salva**.
   - **Modo persistente (opcional)**: O primeiro uso requer login manual, depois a sessÃ£o fica salva em `profile/`

2. **Portabilidade**: O sistema usa caminhos relativos, entÃ£o vocÃª pode copiar toda a pasta para outro dispositivo e usar normalmente (no modo portÃ¡vel).

3. **Rate Limiting**: O WhatsApp pode bloquear contas que enviam muitas mensagens. Use com moderaÃ§Ã£o e respeite os limites.

4. **Estrutura HTML**: O WhatsApp atualiza frequentemente sua interface. Os seletores podem precisar de ajuste.

## ğŸ› SoluÃ§Ã£o de Problemas

### ChromeDriver nÃ£o encontrado
```bash
# Baixe o ChromeDriver compatÃ­vel com sua versÃ£o do Chrome
# https://chromedriver.chromium.org/downloads
```

### Timeout no WhatsApp Web
- Aumente os valores de `time.sleep()` se sua conexÃ£o for lenta
- Verifique se o WhatsApp Web estÃ¡ carregando corretamente

### Mensagens duplicadas
- O sistema foi configurado para evitar duplicaÃ§Ã£o
- Se ocorrer, verifique se nÃ£o hÃ¡ mÃºltiplas instÃ¢ncias rodando

## ğŸ“ Logs

Todos os logs sÃ£o salvos em:
- `data/system.log` - Log geral do sistema
- `data/sent_log.csv` - HistÃ³rico de mensagens enviadas

## ğŸ” SeguranÃ§a

- âš ï¸ **Modo portÃ¡vel Ã© mais seguro** - nÃ£o deixa rastros de sessÃ£o do WhatsApp
- âš ï¸ Se usar modo persistente, mantenha a pasta `profile/` privada (contÃ©m sessÃ£o do WhatsApp)
- âš ï¸ Use com responsabilidade e respeite a privacidade dos contatos
- âš ï¸ NÃ£o compartilhe a pasta `profile/` com outras pessoas

## ğŸ“œ LicenÃ§a

Projeto para uso pessoal. Use com responsabilidade.

---

**Desenvolvido com â¤ï¸ usando Python, Selenium e NiceGUI**
